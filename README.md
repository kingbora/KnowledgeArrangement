# Linux
### 文件及目录操作
> 提示`ctrl+alt+T`进入终端

命令清单

* [cd](#cd)
* [ls](#ls)
* [pwd](#pwd)
* [cat](#cat)
* [grep](#grep)
* [touch](#touch)
* [cp](#cp)
* [mv](#mv)
* [rm](#rm)
* [rmdir](#rmdir)

#### <span id="cd">1、cd 切换目录</span>
cd命令用来切换工作目录至dirname。 其中dirName表示法可为绝对路径或相对路径。若目录名称省略，则变换至使用者的home directory(也就是刚login时所在的目录)。另外，~也表示为home directory的意思，.则是表示目前所在的目录，..则表示目前目录位置的上一层目录。

| 命令 | 描述 |
| :----: |:----|
| cd / | 转到根目录中 |
| cd - | 返回进入此目录之前所在的目录 |
| cd ~ | 转到/home/user用户目录下 |
| cd .. | 返回上级目录 |
| cd !$ | 把上个命令的参数作为cd参数使用 |
| cd /usr | 转到根目录下的usr目录中，绝对路径 |
| cd test | 转到当前目录下的test目录中，相对路径 |

#### <span id="ls">2、ls 列举文件信息</span>
ls命令用来显示目标列表，在Linux中是使用率较高的命令。ls命令的输出信息可以进行彩色加亮显示，以分区不同类型的文件。

| 命令 | 描述 |
| :----: | :---- |
| ls -a | 列举目录中全部文件，包括隐藏文件 |
| ls -l | 列举目录中的细节，包括权限、所有者、组群、大小、创建日期、文件是否是链接等 |
| ls -f | 列举的文件显示文件类型 |
| ls -r | 逆向，从后面向前地列举目录中内容 |
| ls -R | 递归，该选项递归地列举当前目录下所有子目录内的内容 |
| ls -s | 大小，按文件大小排序 |
| ls -h | 以人类可读的方式显示文件的大小，如用K，M，G作为单位 |

#### <span id="pwd">3、pwd 输出当前目录</span>
pwd命令以绝对路径的方式显示用户当前工作目录。命令将当前目录的全路径名称（从根目录）写入标准输出。全部目录使用/分隔。第一个/表示根目录，最后一个目录是当前目录。执行pwd命令可立刻得知您目前所在的工作目录的绝对路径名称

#### <span id="cat">4、cat 合并文件和显示文件内容</span>
cat命令连接文件并打印到标准输出设备上，cat经常用来显示文件的内容，类似于下的type命令。 
> 注意：当文件较大时，文本在屏幕上迅速闪过（滚屏），用户往往看不清所显示的内容。因此，一般用more等命令分屏显示。为了控制滚屏，可以按`ctrl+S`键，停止滚屏；按`ctrl+Q`键可以恢复滚屏。按`ctrl+C`（中断）键可以终止该命令的执行，并且返回Shell提示符状态。

| 命令 | 描述 |
| :----: | :---- |
| cat -n | 由1开始对所输出的行数编号 |
| cat -b | 和-n相似，只不过对于空白行不编号 |
| cat -s | 遇到有连续两行以上的空白行，就代替为一行的空白行 |

`cat snow.txt` 该命令显示snow.txt的内容，`ctrl+D`退出cat
`cat m1 m2 > file` 将文件m1和m2合并后放入文件file中

#### <span id="grep">5、grep 查找特定字符串</span>
* `grep money test.txt`，以上命令在text.txt中查找money这个字符串，*grep查找是区分大小写的*。

* `grep "match_pattern" file1 file2 ...`，在多文件中查找
* `grep -v "match_pattern" filename`，输出除之外的所有行
* `grep "match_pattern" filename --color=auto`，标记匹配颜色
* `grep -E "[1-9]+"`或者`egrep "[1-9]+"`，使用正则表达式
* `grep -o -E "[a-z]+\."`，只输出文件中匹配到的部分
* `grep -l "text" file1 file2 file3 ...`，搜索多个文件并查找匹配文本在哪些文件中
* `grep "text" . -r -n`，在多级目录中对文本进行递归搜索，*.表示当前目录*
* `grep -i "Hello"`，忽略匹配样式中的字符大小写


#### <span id="touch">6、touch 创建新文件</span>
touch命令有两个功能：一是用于把已存在文件的时间标签更新为系统当前的时间（默认方式），它们的数据将原封不动地保留下来；二是用来创建新的空文件。

`touch newfile` 该命令创建一个名为newfile的空白文件。

#### <span id="cp">7、cp 复制文件</span>
cp命令用来将一个或多个源文件或者目录复制到指定的目的文件或目录。它可以将单个源文件复制成一个指定文件名的具体的文件或一个已经存在的目录下。cp命令还支持同时复制多个文件，当一次复制多个文件时，目标文件参数必须是一个已经存在的目录，否则将出现错误。

| 命令 | 描述 |
| :----: | :---- |
| cp -f | 强制：不论目标文件或者目录是否已经存在 |
| cp -i | 互动：覆盖既有文件之前先询问用户 |
| cp -v | 详细：详细显示命令执行的操作 |
| cp -R/r | 递归处理：将指定目录下的所有文件与子目录一并处理 |
> 默认情况下，cp命令不能复制目录，如果要复制目录，则必须使用-R选项。

`cp test.txt Document/t` 该命令将把文件test.txt复制到Document目录下，并命名为t。

#### <span id="mv">8、mv 移动文件</span>
mv命令用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中。source表示源文件或目录，target表示目标文件或目录。如果将一个文件移到一个已经存在的目标文件中，则目标文件的内容将被覆盖。 mv命令可以用来将源文件移至一个目标文件中，或将一组文件移至一个目标目录中。源文件被移至目标文件有两种不同的结果： 如果目标文件是到某一目录文件的路径，源文件会被移到此目录下，且文件名不变。 如果目标文件不是目录文件，则源文件名（只能有一个）会变为此目标文件名，并覆盖己存在的同名文件。如果源文件和目标文件在同一个目录下，mv的作用就是改文件名。当目标文件是目录文件时，源文件或目录参数可以有多个，则所有的源文件都会被移至目标文件中。所有移到该目录下的文件都将保留以前的文件名。
 
> 注意事项：mv与cp的结果不同，mv好像文件“搬家”，文件个数并未增加。而cp对文件进行复制，文件个数增加了。

| 命令 | 描述 |
| :-----: | :----- |
| mv -i | 互动：如果选择的文件会覆盖目标中的文件，它会提示确认 |
| mv -f | 强制：它会超越互动模式，不提示地移动文件，属于危险选项 |
| mv -b | 当文件存在时，覆盖前，为其创建一个备份 |
| mv -u | 当源文件比目标文件新或者目标文件不存在时，才执行移动操作 |
| mv -v | 详细：显示文件的移动进度 |

#### <span id="rm">9、rm 删除文件</span>
rm命令可以删除一个目录中的一个或多个文件或目录，也可以将某个目录及其下属的所有文件及其子目录均删除掉。对于链接文件，只是删除整个链接文件，而原有文件保持不变。 
> 注意：使用rm命令要格外小心。因为一旦删除了一个文件，就无法再恢复它。所以，在删除文件之前，最好再看一下文件的内容，确定是否真要删除。rm命令可以用-i选项，这个选项在使用文件扩展名字符删除多个文件时特别有用。使用这个选项，系统会要求你逐一确定是否要删除。这时，必须输入y并按Enter键，才能删除文件。如果仅按Enter键或其他字符，文件不会被删除。

| 命令 | 描述 |
| :----: | :---- |
| rm -i | 互动：提示确认删除 |
| rm -f | 强制：代替互动模式，不提示确认删除 |
| rm -v | 详细：显示文件的删除进度 |
| rm -r | 递归：将删除某个目录以及其中所有的文件和子目录 |

#### <span id="rmdir">10、rmdir 删除空目录</span>
rmdir命令用来删除空目录。当目录不再被使用时，或者磁盘空间已到达使用限定值，就需要删除失去使用价值的目录。利用rmdir命令可以从一个目录中删除一个或多个空的子目录。该命令从一个目录中删除一个或多个子目录，其中dirname佬表示目录名。如果dirname中没有指定路径，则删除当前目录下由dirname指定的目录；如dirname中包含路径，则删除指定位置的目录。删除目录时，必须具有对其父目录的写权限。
> 注意：子目录被删除之前应该是空目录。就是说，该目录中的所有文件必须用rm命令全部，另外，当前工作目录必须在被删除目录之上，不能是被删除目录本身，也不能是被删除目录的子目录。 虽然还可以用带有-r选项的rm命令递归删除一个目录中的所有文件和该目录本身，但是这样做存在很大的危险性。

| 命令 | 描述 |
| :----: | :---- |
| rmdir -p | 删除指定目录后，若该目录的上层目录已变成空目录，则将其一并删除 |
| rmdir --ignore-fail-on-non-empty | 此选项是rmdir命令忽略由于删除非空目录时导致的错误信息 |
| rmdir -v | 显示命令的详细执行过程 |


